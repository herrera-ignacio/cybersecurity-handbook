<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-offensive-security/web-proxies/README" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">1. Web proxies | Cybersecurity Handbook</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://herrera-ignacio.github.io/cybersecurity-handbook/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://herrera-ignacio.github.io/cybersecurity-handbook/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://herrera-ignacio.github.io/cybersecurity-handbook/offensive-security/web-proxies/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="1. Web proxies | Cybersecurity Handbook"><meta data-rh="true" name="description" content="- 1. Web proxies"><meta data-rh="true" property="og:description" content="- 1. Web proxies"><link data-rh="true" rel="icon" href="/cybersecurity-handbook/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://herrera-ignacio.github.io/cybersecurity-handbook/offensive-security/web-proxies/"><link data-rh="true" rel="alternate" href="https://herrera-ignacio.github.io/cybersecurity-handbook/offensive-security/web-proxies/" hreflang="en"><link data-rh="true" rel="alternate" href="https://herrera-ignacio.github.io/cybersecurity-handbook/offensive-security/web-proxies/" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/cybersecurity-handbook/assets/css/styles.ebb2964c.css">
<script src="/cybersecurity-handbook/assets/js/runtime~main.479a4c56.js" defer="defer"></script>
<script src="/cybersecurity-handbook/assets/js/main.a0365283.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cybersecurity-handbook/"><b class="navbar__title text--truncate">Cybersecurity Handbook</b></a></div><div class="navbar__items navbar__items--right"><a href="https://www.linkedin.com/in/ignacioromanherrera/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/herrera-ignacio/cybersecurity-handbook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cybersecurity-handbook/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cybersecurity-handbook/fundamentals/bug-bounty/">Fundamentals</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cybersecurity-handbook/networking/concepts/devices/">Networking</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cybersecurity-handbook/cryptography/concepts/hashing/">Cryptography</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cybersecurity-handbook/books/hackerplaybook/">Books</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cybersecurity-handbook/cert_notes/ccna/">Certifications</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cybersecurity-handbook/lectures/compliance/hipaa-training/">Lectures</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/cybersecurity-handbook/offensive-security/web-proxies/">Offensive security</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cybersecurity-handbook/offensive-security/web-proxies/">1. Web proxies</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cybersecurity-handbook/os/linux/file_management/">Operating systems</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cybersecurity-handbook/vulnerabilities/server/shellshock/">Vulnerabilities</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cybersecurity-handbook/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Offensive security</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">1. Web proxies</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>1. Web proxies</h1>
<ul>
<li><a href="#1-web-proxies">1. Web proxies</a>
<ul>
<li><a href="#11-introduction">1.1. Introduction</a>
<ul>
<li><a href="#111-what-ara-web-proxies">1.1.1. What ara web proxies?</a></li>
<li><a href="#112-burp-suite">1.1.2. Burp suite</a></li>
<li><a href="#113-zap-owasp-zed-attack-proxy">1.1.3. ZAP: OWASP zed attack proxy</a></li>
<li><a href="#114-ca-certificates">1.1.4. CA Certificates</a></li>
</ul>
</li>
<li><a href="#12-intercepting-requests">1.2. Intercepting requests</a>
<ul>
<li><a href="#121-manipulating-requests">1.2.1. Manipulating requests</a></li>
</ul>
</li>
<li><a href="#13-intercepting-responses">1.3. Intercepting responses</a>
<ul>
<li><a href="#131-burp">1.3.1. Burp</a></li>
<li><a href="#132-zap">1.3.2. ZAP</a></li>
</ul>
</li>
<li><a href="#14-automatic-modification">1.4. Automatic modification</a>
<ul>
<li><a href="#141-automatic-request-modification">1.4.1. Automatic request modification</a></li>
<li><a href="#142-automatic-response-modification">1.4.2. Automatic response modification</a></li>
</ul>
</li>
<li><a href="#15-repeating-requests">1.5. Repeating requests</a>
<ul>
<li><a href="#151-proxy-history">1.5.1. Proxy History</a></li>
<li><a href="#152-configure-repetition">1.5.2. Configure repetition</a></li>
</ul>
</li>
<li><a href="#16-encodingdecoding">1.6. Encoding/Decoding</a>
<ul>
<li><a href="#161-url-encoding">1.6.1. URL Encoding</a></li>
<li><a href="#162-encoderdecoder-tool">1.6.2. Encoder/Decoder tool</a></li>
</ul>
</li>
<li><a href="#17-proxying-tools">1.7. Proxying tools</a>
<ul>
<li><a href="#171-proxychains">1.7.1. Proxychains</a></li>
<li><a href="#172-nmap">1.7.2. Nmap</a></li>
<li><a href="#173-metasploit">1.7.3. Metasploit</a></li>
</ul>
</li>
<li><a href="#18-web-fuzzer">1.8. Web fuzzer</a>
<ul>
<li><a href="#181-burp-intruder">1.8.1. Burp Intruder</a>
<ul>
<li><a href="#1811-target">1.8.1.1. Target</a></li>
<li><a href="#1812-positions">1.8.1.2. Positions</a></li>
<li><a href="#1813-payloads">1.8.1.3. Payloads</a></li>
<li><a href="#1814-options">1.8.1.4. Options</a></li>
<li><a href="#1815-attack">1.8.1.5. Attack</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#19-web-scanner">1.9. Web Scanner</a>
<ul>
<li><a href="#191-burp-scanner">1.9.1. Burp Scanner</a>
<ul>
<li><a href="#1911-target-scope">1.9.1.1. Target scope</a></li>
<li><a href="#1912-crawler">1.9.1.2. Crawler</a></li>
<li><a href="#1913-passive-scanner">1.9.1.3. Passive Scanner</a></li>
<li><a href="#1914-active-scanner">1.9.1.4. Active Scanner</a></li>
<li><a href="#1915-reporting">1.9.1.5. Reporting</a></li>
</ul>
</li>
<li><a href="#192-zap-scanner">1.9.2. ZAP Scanner</a>
<ul>
<li><a href="#1921-spider">1.9.2.1. Spider</a></li>
<li><a href="#1922-passive-scanner">1.9.2.2. Passive scanner</a></li>
<li><a href="#1923-active-scanner">1.9.2.3. Active scanner</a></li>
<li><a href="#1924-reporting">1.9.2.4. Reporting</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#110-extensions">1.10. Extensions</a>
<ul>
<li><a href="#1101-burp---bapp-store">1.10.1. Burp - BApp Store</a></li>
<li><a href="#1102-zap-marketplace">1.10.2. ZAP Marketplace</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="11-introduction">1.1. Introduction<a href="#11-introduction" class="hash-link" aria-label="Direct link to 1.1. Introduction" title="Direct link to 1.1. Introduction">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="111-what-ara-web-proxies">1.1.1. What ara web proxies?<a href="#111-what-ara-web-proxies" class="hash-link" aria-label="Direct link to 1.1.1. What ara web proxies?" title="Direct link to 1.1.1. What ara web proxies?">​</a></h3>
<p>Specialized tools that can be set up between a browser/mobile application and a backend server to capture and view all the web requests being sent between both ends, essentially acting as <em>main-in-the-middle</em> (MITM) tools.</p>
<p>While other <em>network sniffing</em> applications, like <em>Wireshark</em>, operate by analyzing all local traffic to see what is passing through a network, web proxies mainly work with web ports such as, but not limited to, <code>HTTP/80</code> and <code>HTTPS/443</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="112-burp-suite">1.1.2. <a href="https://portswigger.net/burp" target="_blank" rel="noopener noreferrer">Burp suite</a><a href="#112-burp-suite" class="hash-link" aria-label="Direct link to 112-burp-suite" title="Direct link to 112-burp-suite">​</a></h3>
<p>Burp is the most common web proxy for web penetration testing. It has various features and provides a built-in Chromium browser to test web applications.</p>
<p>The <em>community free</em> version should be enough for most penetration testers.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>For Firefox, you can use <a href="https://addons.mozilla.org/en-US/firefox/addon/foxyproxy-standard/" target="_blank" rel="noopener noreferrer">Foxy Proxy</a> to easily and quickly change the Firefox proxy.</p></div></div>
<p><img loading="lazy" alt="FoxyProxy config" src="/cybersecurity-handbook/assets/images/image-b66646b73000c6ce1a8721b6e7dfc5ed.png" width="2522" height="929" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="113-zap-owasp-zed-attack-proxy">1.1.3. <a href="https://www.zaproxy.org/" target="_blank" rel="noopener noreferrer">ZAP: OWASP zed attack proxy</a><a href="#113-zap-owasp-zed-attack-proxy" class="hash-link" aria-label="Direct link to 113-zap-owasp-zed-attack-proxy" title="Direct link to 113-zap-owasp-zed-attack-proxy">​</a></h3>
<p>ZAP is a free and open-source project initiated by the OWASP and maintained by the community.</p>
<p>The main advantage is that we will not face any throttiling or limitations in our scans that are only lifted with a paid subscription.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="114-ca-certificates">1.1.4. CA Certificates<a href="#114-ca-certificates" class="hash-link" aria-label="Direct link to 1.1.4. CA Certificates" title="Direct link to 1.1.4. CA Certificates">​</a></h3>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Install the proxy&#x27;s CA certificates. Otherwise, some HTTPS traffic may not get properly routed, or we may need to click <em>accept</em> every time Firefox needs to send an HTTPS request</p></div></div>
<p>For Burp, you can install it as soon as you configured it in <em>Foxy Proxy</em> by browsing to <code>http://burp</code> and download the certificate from there.</p>
<p>To get&#x27;s ZAP CA certificate, you can go to <code>Tools&gt;Options&gt;Dynamic SSL Certificate</code>.</p>
<p><img loading="lazy" alt="ZAP CA certificate" src="/cybersecurity-handbook/assets/images/image-1-1236eac194fdacc5344efd7cc86c2a6b.png" width="748" height="488" class="img_ev3q"></p>
<p>Once you have your certificates, you can install them within Firefox by navigating to <a href="about:preferences#privacy" target="_blank" rel="noopener noreferrer"></a>, and clicking <code>View Certificates</code>.</p>
<p><img loading="lazy" alt="View certificates" src="/cybersecurity-handbook/assets/images/image-2-efedd1f3121d3718b8f10d13b30bd604.png" width="694" height="210" class="img_ev3q"></p>
<p>Then, select the <code>Authorities</code> tab, and then click on <code>import</code>.</p>
<p><img loading="lazy" alt="Certificate manager" src="/cybersecurity-handbook/assets/images/image-3-6a5f3bcaa97b7f38b306f4e83d64ed4e.png" width="684" height="595" class="img_ev3q"></p>
<p>Finally, mark the options as checked:</p>
<p><img loading="lazy" alt="Trusting certs" src="/cybersecurity-handbook/assets/images/image-4-053b424cb7883c7de8b0234fdfeae3ef.png" width="671" height="294" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="12-intercepting-requests">1.2. Intercepting requests<a href="#12-intercepting-requests" class="hash-link" aria-label="Direct link to 1.2. Intercepting requests" title="Direct link to 1.2. Intercepting requests">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="121-manipulating-requests">1.2.1. Manipulating requests<a href="#121-manipulating-requests" class="hash-link" aria-label="Direct link to 1.2.1. Manipulating requests" title="Direct link to 1.2.1. Manipulating requests">​</a></h3>
<p>We can examine the request, manipulate it to make any changes we want, and then send it to its destination.</p>
<p>There are numeros applications for this in web penetration testing, such as testing for:</p>
<ul>
<li>SQL injections</li>
<li>Command injections</li>
<li>Upload bypass</li>
<li>Authentication bypass</li>
<li>XSS</li>
<li>XXE</li>
<li>Error handling</li>
<li>Deserialization</li>
</ul>
<p>For example, you might change an HTTP body param like <code>id=1</code> to <code>id=;ls;</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="13-intercepting-responses">1.3. Intercepting responses<a href="#13-intercepting-responses" class="hash-link" aria-label="Direct link to 1.3. Intercepting responses" title="Direct link to 1.3. Intercepting responses">​</a></h2>
<p>In some instances, we may need to intercept the HTTP responses from the server before they reach the browser. This can be useful when we want to change how a specific page looks, like enabling certain disabled fields or showing certain hidden fields.</p>
<p>Consider the following example of an intercepted response:</p>
<p><img loading="lazy" alt="intercepted response" src="/cybersecurity-handbook/assets/images/image-6-a3f959598520a02a697c53fd22acd9ae.png" width="1012" height="183" class="img_ev3q"></p>
<p>You could change the <code>type=&quot;number&quot;</code> on line 27 to <code>type=&quot;text&quot;</code>, which should enable us to write any value we want. We will also change the <code>maxlength=&quot;3&quot;</code> to <code>maxlength=&quot;100&quot;</code> so we can enter longer input.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="131-burp">1.3.1. Burp<a href="#131-burp" class="hash-link" aria-label="Direct link to 1.3.1. Burp" title="Direct link to 1.3.1. Burp">​</a></h3>
<p>Enable response interception in <code>Proxy&gt;Options</code> by enabling <code>Intercept Response</code> under <code>Intercept Server Responses</code>.</p>
<p><img loading="lazy" alt="intercept server responses" src="/cybersecurity-handbook/assets/images/image-5-8731fa2fc9bd5c4693255f626c170577.png" width="966" height="306" class="img_ev3q"></p>
<p>After that we can enable request interception once more and refresh the page with <code>CTRL+SHIFT+R</code> in our browser (to force a full refresh). Once we forward the request, we&#x27;ll see our intercepted response.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Burp has a handy feature to <code>Unhide hidden form fields</code> under <code>Proxy&gt;Options&gt;Response modification</code>.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="132-zap">1.3.2. ZAP<a href="#132-zap" class="hash-link" aria-label="Direct link to 1.3.2. ZAP" title="Direct link to 1.3.2. ZAP">​</a></h3>
<p>ZAP intercepts the response by default, you just need to click on <code>Step</code> after intercepting a request.</p>
<p>We can use ZAP HUD also to <code>Show/Enable</code> buttons/inputs without needing to intercept the response or refresh the page.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="14-automatic-modification">1.4. Automatic modification<a href="#14-automatic-modification" class="hash-link" aria-label="Direct link to 1.4. Automatic modification" title="Direct link to 1.4. Automatic modification">​</a></h2>
<p>We may want to apply certain modifications to all outgoing HTTP requests or all incoming HTTP responses in certain situations. In these cases, we can utilize automatic modifications on rules we set.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="141-automatic-request-modification">1.4.1. Automatic request modification<a href="#141-automatic-request-modification" class="hash-link" aria-label="Direct link to 1.4.1. Automatic request modification" title="Direct link to 1.4.1. Automatic request modification">​</a></h3>
<p>We can choose to match any text within our requests, either in request header or request body, and then replace them with different text. For example, replace <code>User-Agent</code> with <code>HackTheBox Agent 1.0</code>.</p>
<p>Burp provides this in <code>Proxy&gt;Options&gt;Match and Replace</code> and click on <code>Add</code>.</p>
<p><img loading="lazy" alt="Burp match and replace" src="/cybersecurity-handbook/assets/images/image-7-f67756efd1d921aa489bbabb1cd247a0.png" width="567" height="256" class="img_ev3q"></p>
<p>The Match and Replace option will be added and enabled and will start automatically replacing the <code>User-Agent</code> header in our requests.</p>
<p>ZAP provides a similar feature called <code>Replacer</code>, which we can access by pressing <code>CTRL+R</code>.</p>
<p><img loading="lazy" alt="ZAP replacer" src="/cybersecurity-handbook/assets/images/image-8-9e0a1b002f4083b08b5ea6f59f3f9daf.png" width="534" height="277" class="img_ev3q"></p>
<p>ZAP also provides <code>Request Header String</code> that we can use with a Regex pattern and the option to set <code>Initiators</code>, which enable us to select where our <code>Replacer</code> option will be applied. You can then enable request intercepton by pressing <code>CTRL+B</code> and visit any page in the pre-configured ZAP browser.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="142-automatic-response-modification">1.4.2. Automatic response modification<a href="#142-automatic-response-modification" class="hash-link" aria-label="Direct link to 1.4.2. Automatic response modification" title="Direct link to 1.4.2. Automatic response modification">​</a></h3>
<p>In Burp, use <code>Proxy&gt;Options&gt;Match and Replace</code> to add a rule. Use <code>Type: Response body</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="15-repeating-requests">1.5. Repeating requests<a href="#15-repeating-requests" class="hash-link" aria-label="Direct link to 1.5. Repeating requests" title="Direct link to 1.5. Repeating requests">​</a></h2>
<p>Request repeating allows us to resend any web request that has previously gone through the web proxy. This allow us to make quick changes to any request before we send it, then get the response within our tools without intercepting and modifying each request.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="151-proxy-history">1.5.1. Proxy History<a href="#151-proxy-history" class="hash-link" aria-label="Direct link to 1.5.1. Proxy History" title="Direct link to 1.5.1. Proxy History">​</a></h3>
<p>You can view the HTTP requests history in Burp at <code>Proxy&gt;HTTP History</code>.</p>
<p><img loading="lazy" alt="Burp proxy history" src="/cybersecurity-handbook/assets/images/image-9-873cf20c877ef5ceb3f0f8a31d1e3251.png" width="1603" height="184" class="img_ev3q"></p>
<p>In ZAP HUD, you can find it in the bottom <code>History</code> (or the <code>History</code> tab at ZAP&#x27;s main UI).</p>
<p><img loading="lazy" alt="ZAP proxy" src="/cybersecurity-handbook/assets/images/image-10-db534962fafcff658ba223165051f4a2.png" width="2560" height="208" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="152-configure-repetition">1.5.2. Configure repetition<a href="#152-configure-repetition" class="hash-link" aria-label="Direct link to 1.5.2. Configure repetition" title="Direct link to 1.5.2. Configure repetition">​</a></h3>
<p>In Burp, press <code>CTRL+R</code> in Burp to send it to the <code>Repeater</code> tab (navigate to it with <code>CTRL+SHIFT+R</code>). Once in <code>Repeater</code>, we can click on <code>Send</code> to send the request.</p>
<p><img loading="lazy" alt="Repeater" src="/cybersecurity-handbook/assets/images/image-11-1c92e4d4c2d90501d0dd484638df50f9.png" width="1568" height="450" class="img_ev3q"></p>
<p>In ZAP, right-click on the request and select <code>Open/Resend with Request Editor</code>.</p>
<p><img loading="lazy" alt="ZAP request editor" src="/cybersecurity-handbook/assets/images/image-12-21741be911023e73a09ff21a3938b4c0.png" width="1473" height="368" class="img_ev3q"></p>
<p>You can achieve the same with <code>ZAP HUD</code>, click on a request in the bottom History pane, and the <code>Request Editor</code> will be shown. You can select <code>Replay in Console</code> to get the response in the same <code>HUD</code> window, or select <code>Replay in Browser</code> to see the response rendered in the browser.</p>
<p><img loading="lazy" alt="ZAP HUD replay" src="/cybersecurity-handbook/assets/images/image-13-11b5d4848b737f330eabf9a73517dbaf.png" width="2560" height="1097" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="16-encodingdecoding">1.6. Encoding/Decoding<a href="#16-encodingdecoding" class="hash-link" aria-label="Direct link to 1.6. Encoding/Decoding" title="Direct link to 1.6. Encoding/Decoding">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="161-url-encoding">1.6.1. URL Encoding<a href="#161-url-encoding" class="hash-link" aria-label="Direct link to 1.6.1. URL Encoding" title="Direct link to 1.6.1. URL Encoding">​</a></h3>
<p>Request data must be URL-encoded and our request headers correctly set. For example, <code>Spaces</code>, <code>&amp;</code> and <code>#</code> should be encoded.</p>
<p>In Burp Repeater, we can select text and right-click on it, then select <code>Convert Selection&gt;URL&gt;URL encode key characters</code> or pressing <code>CTRL+U</code>.</p>
<p>On the other hand, ZAP automatically URL-encode all of our request data in the background before sending the request.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="162-encoderdecoder-tool">1.6.2. Encoder/Decoder tool<a href="#162-encoderdecoder-tool" class="hash-link" aria-label="Direct link to 1.6.2. Encoder/Decoder tool" title="Direct link to 1.6.2. Encoder/Decoder tool">​</a></h3>
<p>Web applications commonly encode their data, so we should be able to quickly decode it to exmaine the original text.</p>
<p>In Burp, we can go to the <code>Decoder</code> tab.</p>
<p><img loading="lazy" alt="Decoder" src="/cybersecurity-handbook/assets/images/image-14-167749a55c2523bb60a8691ae3aa1950.png" width="1274" height="349" class="img_ev3q"></p>
<p>In recent versions of Burp, you can also use the <code>Burp Inspector</code> to perform encoding and decoding (in various places like Burp Proxy or Burp Repeater).</p>
<p><img loading="lazy" alt="Burp inspector" src="/cybersecurity-handbook/assets/images/image-15-4c0d913e88605e7077dc5997b023e825.png" width="1278" height="397" class="img_ev3q"></p>
<p>In ZAP, we can use the <code>Encoder/Decoder/Hash</code> by pressing <code>CTRL+E</code>.</p>
<p><img loading="lazy" alt="ap encoderZ" src="/cybersecurity-handbook/assets/images/image-16-34ca442f4fb2263dd4567eed11120595.png" width="800" height="199" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="17-proxying-tools">1.7. Proxying tools<a href="#17-proxying-tools" class="hash-link" aria-label="Direct link to 1.7. Proxying tools" title="Direct link to 1.7. Proxying tools">​</a></h2>
<p>We might want to intercept HTTP requests made by CLI tool or client applications. To route all requests made by a specific tool through our web proxy tools, we have to set them up as the tool&#x27;s proxy (i.e., <code>http://127.0.0.1:8080</code>), similarly to what we do with our browsers. Each tool may have a different method.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="171-proxychains">1.7.1. Proxychains<a href="#171-proxychains" class="hash-link" aria-label="Direct link to 1.7.1. Proxychains" title="Direct link to 1.7.1. Proxychains">​</a></h3>
<p>A very useful tool in Linux is <a href="https://github.com/haad/proxychains" target="_blank" rel="noopener noreferrer"></a>, which routes all traffic coming from any CLI tool to any proxy we specify.</p>
<p>Simply edit <code>/etc/proxychains.conf</code> to look like this</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#socks4         127.0.0.1 9050</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http 127.0.0.1 8080</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You might want to enable <code>Quiet Mode</code> to reduce noise by un-commenting <code>quiet_mode</code>.</p>
<p>Afterwards, prepend <code>proxychains</code> to any command, and the traffic of that command should be routed through it.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">proxychains curl http://SERVER_IP:PORT</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="172-nmap">1.7.2. Nmap<a href="#172-nmap" class="hash-link" aria-label="Direct link to 1.7.2. Nmap" title="Direct link to 1.7.2. Nmap">​</a></h3>
<p>You can see the proxy configuration for Nmap in its help page:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nmap -h | grep -i prox</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--proxies &lt;url1,[url2],...&gt;: Relay connections through HTTP/SOCKS4 proxies</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We should also add the <code>-Pn</code> flag to skip host discovery. Also, we&#x27;ll use the <code>-sC</code> flag to examine what an nmap scan does:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nmap --proxies http://127.0.0.1:8080 SERVER_IP -pPORT -Pn -sC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Starting Nmap 7.91 ( https://nmap.org )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Nmap scan report for SERVER_IP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Host is up (0.11s latency).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PORT      STATE SERVICE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PORT/tcp open  unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Nmap done: 1 IP address (1 host up) scanned in 0.49 seconds</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="173-metasploit">1.7.3. Metasploit<a href="#173-metasploit" class="hash-link" aria-label="Direct link to 1.7.3. Metasploit" title="Direct link to 1.7.3. Metasploit">​</a></h3>
<p>Using <code>msfconsole</code> you can se a proxy for any exploit within Metasplot by using the <code>set PROXIES</code> flag. Consider the following example:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">msfconsole</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">msf6 &gt; use auxiliary/scanner/http/robots_txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">msf6 auxiliary(scanner/http/robots_txt) &gt; set PROXIES HTTP://127.0.0.1:8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PROXIES =&gt; HTTP://127.0.0.1:8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">msf6 auxiliary(scanner/http/robots_txt) &gt; set RHOST SERVER_IP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RHOST =&gt; SERVER_IP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">msf6 auxiliary(scanner/http/robots_txt) &gt; set RPORT PORT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RPORT =&gt; PORT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">msf6 auxiliary(scanner/http/robots_txt) &gt; run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[*] Scanned 1 of 1 hosts (100% complete)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[*] Auxiliary module execution completed</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="18-web-fuzzer">1.8. Web fuzzer<a href="#18-web-fuzzer" class="hash-link" aria-label="Direct link to 1.8. Web fuzzer" title="Direct link to 1.8. Web fuzzer">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="181-burp-intruder">1.8.1. Burp Intruder<a href="#181-burp-intruder" class="hash-link" aria-label="Direct link to 1.8.1. Burp Intruder" title="Direct link to 1.8.1. Burp Intruder">​</a></h3>
<p>Burp Intrucer can be used to fuzz pages, directories, sub-domains, parameters, parameter values, and many other things.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Burp community version is throttled at a speed of 1 request per second, making it extremely slow compared to CLI-based web fuzzing tools, which can usually read up to 10k requests per second. The Pro version has unlimited speed.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1811-target">1.8.1.1. Target<a href="#1811-target" class="hash-link" aria-label="Direct link to 1.8.1.1. Target" title="Direct link to 1.8.1.1. Target">​</a></h4>
<p>Locate a request in the Proxy History, right-click on it and <code>Send to intruder</code> (or press <code>CTRL+I</code>). Then go to <code>Intruder</code> or press <code>CTRL+SHIFT+I</code>.</p>
<p><img loading="lazy" alt="Intruder" src="/cybersecurity-handbook/assets/images/image-17-2fef932baaef3311c5781c2743f9c5a4.png" width="781" height="241" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1812-positions">1.8.1.2. Positions<a href="#1812-positions" class="hash-link" aria-label="Direct link to 1.8.1.2. Positions" title="Direct link to 1.8.1.2. Positions">​</a></h4>
<p>This is where we place the payload position pointer, which is the point where words from our wordlist will be placed and iterated over.</p>
<p>For example, select <code>DIRECTORY</code> as the payload position, by either wrapping it with <code>§</code> or by selecting the word and clicking on the <code>Add §</code> button.</p>
<p><img loading="lazy" alt="Positions" src="/cybersecurity-handbook/assets/images/image-18-7c4effa08940ef7a28745d64f9321fac.png" width="1270" height="327" class="img_ev3q"></p>
<p>Finally, select in the target tab the <code>Attack Type</code> that defines how many payload pointers are used and determines which payload is assigned to which position. For simplicity, awe&#x27;ll stick to the first type, <code>Sniper</code>, which uses only one position.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1813-payloads">1.8.1.3. Payloads<a href="#1813-payloads" class="hash-link" aria-label="Direct link to 1.8.1.3. Payloads" title="Direct link to 1.8.1.3. Payloads">​</a></h4>
<p>On the third tab, <code>Payloads</code>, we get to choose and customize our payload/wordlists. There are four things to configure:</p>
<ul>
<li><strong>Payload set</strong>: Identifies the payload number, depending on the type and number of payloads we used in the payload position pointers.<!-- -->
<ul>
<li><em>Payload type</em>: Type of payloads/wordlists to use (e.g., simple list, runtime file, character substitution).</li>
</ul>
</li>
</ul>
<p><img loading="lazy" alt="Payload sets" src="/cybersecurity-handbook/assets/images/image-20-2e956e448c25f0663b089d3150534f14.png" width="766" height="214" class="img_ev3q"></p>
<ul>
<li><strong>Payload options</strong>: It&#x27;s different for each payload type selected previously. For a <em>Simple List</em>, we have to create or load a wordlist (e.g., <code>/opt/useful/SecLists/Discovery/Web-Content/common.txt</code>).</li>
</ul>
<p><img loading="lazy" alt="payload options" src="/cybersecurity-handbook/assets/images/image-19-9e29e10fa2a3336fa7fd24f9caeee05b.png" width="964" height="297" class="img_ev3q"></p>
<ul>
<li><strong>Payload processing</strong>: Determines fuzzing rules over the loaded wordlist. For example, if we wanted to add an extension after our payload item, or filter the wordlist based on specific criteria (e.g., skip any lines that start with a <code>.</code>).</li>
</ul>
<p><img loading="lazy" alt="payload processing" src="/cybersecurity-handbook/assets/images/image-21-6739af3374da82dfdcbaeca22591623b.png" width="718" height="237" class="img_ev3q"></p>
<ul>
<li><strong>Payload encoding</strong>: Enable or disable Payload URL-encoding.</li>
</ul>
<p><img loading="lazy" alt="Payload encoding" src="/cybersecurity-handbook/assets/images/image-22-58604451ffb737546f98bc4a2075d185.png" width="924" height="121" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1814-options">1.8.1.4. Options<a href="#1814-options" class="hash-link" aria-label="Direct link to 1.8.1.4. Options" title="Direct link to 1.8.1.4. Options">​</a></h4>
<p>Customize attack options from the <em>Options</em> tab.</p>
<p>For example, set the number of <code>retried on failure</code> and <code>pause before retry</code> to 0.</p>
<p>Another useful option is <code>Grep - Match</code>, to flag specific requests depending on their response. For example, match <code>200 OK</code> requests and <code>Exclude HTTP Headers</code> from string matching.</p>
<p>You may also utilize <code>Grep - Extract</code>, which is useful in the HTTP responses are lengthy, and we&#x27;re only interested in a certain part of the response (e.g., only responses with HTTP Code <code>200 OK</code> regardless of ttheir content).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1815-attack">1.8.1.5. Attack<a href="#1815-attack" class="hash-link" aria-label="Direct link to 1.8.1.5. Attack" title="Direct link to 1.8.1.5. Attack">​</a></h4>
<p>Once everything is properly set up, we can click on <code>Start Attack</code> and wait for our attacks to finish.</p>
<p><img loading="lazy" alt="Attack" src="/cybersecurity-handbook/assets/images/image-23-6c8aac39c832682d42a8aebd7a5326b7.png" width="942" height="233" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="19-web-scanner">1.9. Web Scanner<a href="#19-web-scanner" class="hash-link" aria-label="Direct link to 1.9. Web Scanner" title="Direct link to 1.9. Web Scanner">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="191-burp-scanner">1.9.1. Burp Scanner<a href="#191-burp-scanner" class="hash-link" aria-label="Direct link to 1.9.1. Burp Scanner" title="Direct link to 1.9.1. Burp Scanner">​</a></h3>
<p>A powerful scanner for various types of web vulnerabilities, using a <code>Crawler</code> for building the website structure, and <code>Scanner</code> for passive and active scanning.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Burp Scanner is a pro-only feature, not available in the free community version.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1911-target-scope">1.9.1.1. Target scope<a href="#1911-target-scope" class="hash-link" aria-label="Direct link to 1.9.1.1. Target scope" title="Direct link to 1.9.1.1. Target scope">​</a></h4>
<p>To start a scan, you have the following options:</p>
<ol>
<li>Start scan on a specific request from Proxy History.</li>
<li>Start a new scan on a set of targets.</li>
<li>Start a scan on items in-scope.</li>
</ol>
<p><img loading="lazy" alt="Target scope - Proxy History" src="/cybersecurity-handbook/assets/images/image-24-f7fbe8016ed13edd995d90ba39026aff.png" width="1300" height="257" class="img_ev3q"></p>
<p>In <code>Target&gt;Site map</code>, you&#x27;ll find a listing of all directories and files Burp has detected in various requests that went through its proxy.</p>
<p><img loading="lazy" alt="Site map" src="/cybersecurity-handbook/assets/images/image-25-97ea15e498423b1f16e2e662f8d050aa.png" width="1485" height="386" class="img_ev3q"></p>
<p>You can add an item to our <em>target scope</em>, by right-clicking on it and select <code>Add to scope</code>.</p>
<p><img loading="lazy" alt="Add to scope" src="/cybersecurity-handbook/assets/images/image-26-4cf0a675883d220d02758954471f2548.png" width="401" height="75" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1912-crawler">1.9.1.2. Crawler<a href="#1912-crawler" class="hash-link" aria-label="Direct link to 1.9.1.2. Crawler" title="Direct link to 1.9.1.2. Crawler">​</a></h4>
<p>Once the scope is ready, you can use the web crawler to navigate a website by accessing any links found in its pages, accessing any forms, and examining any requests it makes to build a comprehensive map of the website.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1913-passive-scanner">1.9.1.3. Passive Scanner<a href="#1913-passive-scanner" class="hash-link" aria-label="Direct link to 1.9.1.3. Passive Scanner" title="Direct link to 1.9.1.3. Passive Scanner">​</a></h4>
<p>Once the site map is fully built, you can scan the target for potential vulnerabilities.</p>
<p>Unline an <em>active scan</em>, a <em>passive scan</em> does not send any new requests but analyzes the source of pages already visited in the target/scope and then tries to identify <em>potential</em> vulnerabilities.</p>
<p>This is very useful for a quick analysis of a specific target, like missing HTML tags or potential DOM-based XSS vulnerabilities.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1914-active-scanner">1.9.1.4. Active Scanner<a href="#1914-active-scanner" class="hash-link" aria-label="Direct link to 1.9.1.4. Active Scanner" title="Direct link to 1.9.1.4. Active Scanner">​</a></h4>
<p>An <em>active scan</em> runes a more comprehensive scan than a passive one:</p>
<ol>
<li>Starts by running a crawl and a web fuzzer to identify all possible pages.</li>
<li>Runs a passive scan on all identified pages.</li>
<li>Checks each of the identified vulnerabilities from the passive scan and sends requests to verify them.</li>
<li>Performs a JS analysis to identify further potential vulnerabilities.</li>
<li>Fuzzes various identified insertion points and parameters to look for common vulnerabilities like XSS, Command Injection, SQLi, and other common web vulnerabilities.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1915-reporting">1.9.1.5. Reporting<a href="#1915-reporting" class="hash-link" aria-label="Direct link to 1.9.1.5. Reporting" title="Direct link to 1.9.1.5. Reporting">​</a></h4>
<p>Once all of our scans are completed, and all potential issues have been identified, you can go to <code>Target-&gt;Site map</code>, right-click on our target and select <code>Issue&gt;Report issues for this host</code>.</p>
<p><img loading="lazy" alt="burp reporting" src="/cybersecurity-handbook/assets/images/image-27-a51882b1a03673e780822c006af9cee9.png" width="974" height="409" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="192-zap-scanner">1.9.2. ZAP Scanner<a href="#192-zap-scanner" class="hash-link" aria-label="Direct link to 1.9.2. ZAP Scanner" title="Direct link to 1.9.2. ZAP Scanner">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1921-spider">1.9.2.1. Spider<a href="#1921-spider" class="hash-link" aria-label="Direct link to 1.9.2.1. Spider" title="Direct link to 1.9.2.1. Spider">​</a></h4>
<p>To start a Spider scan on any website, you can locate a request from the history tab and select <code>Attack&gt;Spider</code> from the right-click menu. Another option is to use the HUD in the pre-configured browser, visit the page we want to start our Spider scan on, and click on the second button on the right pane <code>Spider Start</code>.</p>
<p><img loading="lazy" alt="start spider scan" src="/cybersecurity-handbook/assets/images/image-28-c3f72e070d6fd5c0b39f48e764655524.png" width="2560" height="966" class="img_ev3q"></p>
<p>Once the scan is completed, you can check the <em>Sites</em> tab on the main ZAP UI, or we can click on the first button on the right pane <code>Sites Tree</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1922-passive-scanner">1.9.2.2. Passive scanner<a href="#1922-passive-scanner" class="hash-link" aria-label="Direct link to 1.9.2.2. Passive scanner" title="Direct link to 1.9.2.2. Passive scanner">​</a></h4>
<p>As ZAP Spider runs and makes requests to various end-point, it is automatically running its passive scanner on each response.</p>
<p><img loading="lazy" alt="alerts from scanner" src="/cybersecurity-handbook/assets/images/image-29-3760720390e2a93e158ee2658c85272c.png" width="2560" height="972" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1923-active-scanner">1.9.2.3. Active scanner<a href="#1923-active-scanner" class="hash-link" aria-label="Direct link to 1.9.2.3. Active scanner" title="Direct link to 1.9.2.3. Active scanner">​</a></h4>
<p>Once our site&#x27;s tree is populated, you can click on the <code>Active Scan</code> button on the right pane to start an active scan on all identified pages.</p>
<p>The active scanner will try various types of attacks against all identified pages and HTTP parameters to identify as many vulnerabilities as it can.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1924-reporting">1.9.2.4. Reporting<a href="#1924-reporting" class="hash-link" aria-label="Direct link to 1.9.2.4. Reporting" title="Direct link to 1.9.2.4. Reporting">​</a></h4>
<p>Finally, you can select <code>Report&gt;Generate HTML Report</code> from the top bar, which would prompt us for the save location to save the report.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="110-extensions">1.10. Extensions<a href="#110-extensions" class="hash-link" aria-label="Direct link to 1.10. Extensions" title="Direct link to 1.10. Extensions">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1101-burp---bapp-store">1.10.1. Burp - BApp Store<a href="#1101-burp---bapp-store" class="hash-link" aria-label="Direct link to 1.10.1. Burp - BApp Store" title="Direct link to 1.10.1. Burp - BApp Store">​</a></h3>
<p>Burp allows extensibility through its <code>Extender</code> feature and its <a href="https://portswigger.net/bappstore" target="_blank" rel="noopener noreferrer">BApp Store</a>.</p>
<p><img loading="lazy" alt="BApp Store" src="/cybersecurity-handbook/assets/images/image-31-0533aa1a607103a75e9aec62db56d544.png" width="1174" height="293" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1102-zap-marketplace">1.10.2. ZAP Marketplace<a href="#1102-zap-marketplace" class="hash-link" aria-label="Direct link to 1.10.2. ZAP Marketplace" title="Direct link to 1.10.2. ZAP Marketplace">​</a></h3>
<p>ZAP also has its own extensibility feature with the <code>Marketplace</code> that allows us to install various types of community-developed add-ons.</p>
<p><img loading="lazy" alt="ZAP Marketplace" src="/cybersecurity-handbook/assets/images/image-30-9af8cf6b6698908f6cff7229170f1480.png" width="774" height="93" class="img_ev3q"></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cybersecurity-handbook/lectures/offensive/d23-how-to-shoot-web/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Jason Haddix: How to Shot Web</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cybersecurity-handbook/os/linux/file_management/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">File management</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#11-introduction" class="table-of-contents__link toc-highlight">1.1. Introduction</a><ul><li><a href="#111-what-ara-web-proxies" class="table-of-contents__link toc-highlight">1.1.1. What ara web proxies?</a></li><li><a href="#112-burp-suite" class="table-of-contents__link toc-highlight">1.1.2. Burp suite</a></li><li><a href="#113-zap-owasp-zed-attack-proxy" class="table-of-contents__link toc-highlight">1.1.3. ZAP: OWASP zed attack proxy</a></li><li><a href="#114-ca-certificates" class="table-of-contents__link toc-highlight">1.1.4. CA Certificates</a></li></ul></li><li><a href="#12-intercepting-requests" class="table-of-contents__link toc-highlight">1.2. Intercepting requests</a><ul><li><a href="#121-manipulating-requests" class="table-of-contents__link toc-highlight">1.2.1. Manipulating requests</a></li></ul></li><li><a href="#13-intercepting-responses" class="table-of-contents__link toc-highlight">1.3. Intercepting responses</a><ul><li><a href="#131-burp" class="table-of-contents__link toc-highlight">1.3.1. Burp</a></li><li><a href="#132-zap" class="table-of-contents__link toc-highlight">1.3.2. ZAP</a></li></ul></li><li><a href="#14-automatic-modification" class="table-of-contents__link toc-highlight">1.4. Automatic modification</a><ul><li><a href="#141-automatic-request-modification" class="table-of-contents__link toc-highlight">1.4.1. Automatic request modification</a></li><li><a href="#142-automatic-response-modification" class="table-of-contents__link toc-highlight">1.4.2. Automatic response modification</a></li></ul></li><li><a href="#15-repeating-requests" class="table-of-contents__link toc-highlight">1.5. Repeating requests</a><ul><li><a href="#151-proxy-history" class="table-of-contents__link toc-highlight">1.5.1. Proxy History</a></li><li><a href="#152-configure-repetition" class="table-of-contents__link toc-highlight">1.5.2. Configure repetition</a></li></ul></li><li><a href="#16-encodingdecoding" class="table-of-contents__link toc-highlight">1.6. Encoding/Decoding</a><ul><li><a href="#161-url-encoding" class="table-of-contents__link toc-highlight">1.6.1. URL Encoding</a></li><li><a href="#162-encoderdecoder-tool" class="table-of-contents__link toc-highlight">1.6.2. Encoder/Decoder tool</a></li></ul></li><li><a href="#17-proxying-tools" class="table-of-contents__link toc-highlight">1.7. Proxying tools</a><ul><li><a href="#171-proxychains" class="table-of-contents__link toc-highlight">1.7.1. Proxychains</a></li><li><a href="#172-nmap" class="table-of-contents__link toc-highlight">1.7.2. Nmap</a></li><li><a href="#173-metasploit" class="table-of-contents__link toc-highlight">1.7.3. Metasploit</a></li></ul></li><li><a href="#18-web-fuzzer" class="table-of-contents__link toc-highlight">1.8. Web fuzzer</a><ul><li><a href="#181-burp-intruder" class="table-of-contents__link toc-highlight">1.8.1. Burp Intruder</a></li></ul></li><li><a href="#19-web-scanner" class="table-of-contents__link toc-highlight">1.9. Web Scanner</a><ul><li><a href="#191-burp-scanner" class="table-of-contents__link toc-highlight">1.9.1. Burp Scanner</a></li><li><a href="#192-zap-scanner" class="table-of-contents__link toc-highlight">1.9.2. ZAP Scanner</a></li></ul></li><li><a href="#110-extensions" class="table-of-contents__link toc-highlight">1.10. Extensions</a><ul><li><a href="#1101-burp---bapp-store" class="table-of-contents__link toc-highlight">1.10.1. Burp - BApp Store</a></li><li><a href="#1102-zap-marketplace" class="table-of-contents__link toc-highlight">1.10.2. ZAP Marketplace</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>