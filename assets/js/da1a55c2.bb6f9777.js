"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8698],{4547:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>c,toc:()=>d});var i=s(5893),r=s(1151);const t={},o="Permission management",c={id:"os/linux/permission_management/README",title:"Permission management",description:"Read, write, and execute",source:"@site/docs/os/linux/permission_management/README.md",sourceDirName:"os/linux/permission_management",slug:"/os/linux/permission_management/",permalink:"/cybersecurity-handbook/os/linux/permission_management/",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Networking",permalink:"/cybersecurity-handbook/os/linux/networking/"},next:{title:"Philosophy",permalink:"/cybersecurity-handbook/os/linux/philosophy/"}},a={},d=[{value:"Read, write, and execute",id:"read-write-and-execute",level:2},{value:"Octal value assignment",id:"octal-value-assignment",level:2},{value:"Change permissions",id:"change-permissions",level:2},{value:"Change owner",id:"change-owner",level:2},{value:"SUID &amp; SGID",id:"suid--sgid",level:2},{value:"Sticky bit",id:"sticky-bit",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"permission-management",children:"Permission management"}),"\n",(0,i.jsx)(n.h2,{id:"read-write-and-execute",children:"Read, write, and execute"}),"\n",(0,i.jsxs)(n.p,{children:["Permissions are assigned to ",(0,i.jsx)(n.em,{children:"users"})," and ",(0,i.jsx)(n.em,{children:"groups"}),". Each user can be a member of different groups, and membership in these groupes gives the user specific, additional permissions."]}),"\n",(0,i.jsxs)(n.p,{children:["Each file and directory belongs to a specific user and a specific group. The permissions are also defined for the ",(0,i.jsx)(n.em,{children:"respective owners"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Therefore, the permissions can be set for the ",(0,i.jsx)(n.code,{children:"owner"}),", ",(0,i.jsx)(n.code,{children:"group"}),", and ",(0,i.jsx)(n.code,{children:"users"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["The whe whole permission system on Linux systems is based on the octal number system, and basically, there are ",(0,i.jsx)(n.strong,{children:"three different types"})," of permissions a file or directory can be assigned:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"r"}),": Read."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"w"}),": Write."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"x"}),": Execute."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-console",children:"$ ls -l /etc/passwd\n\n- rwx rw- r--   1 root root 1641 May  4 23:42 /etc/passwd\n- --- --- ---   |  |    |    |   |__________|\n|  |   |   |    |  |    |    |        |_ Date\n|  |   |   |    |  |    |    |__________ File Size\n|  |   |   |    |  |    |_______________ Group\n|  |   |   |    |  |____________________ User\n|  |   |   |    |_______________________ Number of hard links\n|  |   |   |_ Permission of others (read)\n|  |   |_____ Permissions of the group (read, write)\n|  |_________ Permissions of the owner (read, write, execute)\n|____________ File type (- = File, d = Directory, l = Link, ... )\n"})}),"\n",(0,i.jsxs)(n.p,{children:["To execute files within a directory, a user needs ",(0,i.jsx)(n.code,{children:"execute"})," permissions on the corresponding file. To modify the contents of a directory (create, delete, or rename files and subdirectories), the user needs ",(0,i.jsx)(n.code,{children:"write"})," permissions on the directory."]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["When a user wants to access the contents of a directory, they must first traverse the directory, which means navigating to that directory, requiring the user to have ",(0,i.jsx)(n.code,{children:"execute"})," permissions on the directory. ",(0,i.jsx)(n.code,{children:"execute"})," permissions only allow to traverse and access the content but not to execute or modify any files or contents within the directory."]})}),"\n",(0,i.jsx)(n.h2,{id:"octal-value-assignment",children:"Octal value assignment"}),"\n",(0,i.jsx)(n.p,{children:"Permissions are based on the octal number system and can be used to identify a set of permissions."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"Binary Notation:                4 2 1  |  4 2 1  |  4 2 1\n----------------------------------------------------------\nBinary Representation:          1 1 1  |  1 0 1  |  1 0 0\n----------------------------------------------------------\nOctal Value:                      7    |    5    |    4\n----------------------------------------------------------\nPermission Representation:      r w x  |  r - x  |  r - -\n"})}),"\n",(0,i.jsx)(n.h2,{id:"change-permissions",children:"Change permissions"}),"\n",(0,i.jsxs)(n.p,{children:["Use the ",(0,i.jsx)(n.code,{children:"chmod"})," command to change permissions and permission group references (",(0,i.jsx)(n.code,{children:"u"})," owner, ",(0,i.jsx)(n.code,{children:"g"})," group, ",(0,i.jsx)(n.code,{children:"o"})," others, ",(0,i.jsx)(n.code,{children:"a"})," all users) and either a ",(0,i.jsx)(n.code,{children:"+"})," or ",(0,i.jsx)(n.code,{children:"-"})," to add/remove the designated permissions."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, apply ",(0,i.jsx)(n.code,{children:"read"})," permissions for all users:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-console",children:"chmod a+r <file/dir>\n"})}),"\n",(0,i.jsx)(n.p,{children:"You can also use the octal value assignment:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-console",children:"chmod 754 <file/dir>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"change-owner",children:"Change owner"}),"\n",(0,i.jsxs)(n.p,{children:["Use the ",(0,i.jsx)(n.code,{children:"chown"})," command to change ownership:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-console",children:"chown <user>:<group> <file/directory>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"suid--sgid",children:"SUID & SGID"}),"\n",(0,i.jsxs)(n.p,{children:["Besides assigning direct user and group permissions, you can also configure special permissions for files by setting the ",(0,i.jsx)(n.code,{children:"Set User ID"})," (",(0,i.jsx)(n.code,{children:"SUID"}),") and ",(0,i.jsx)(n.code,{children:"Set Group ID"})," (",(0,i.jsx)(n.code,{children:"SGID"}),") bits. The letter ",(0,i.jsx)(n.code,{children:"s"})," is used instead of an ",(0,i.jsx)(n.code,{children:"x"}),". Thus, when executing such a program, the SUID/SGID of the file owner is used."]}),"\n",(0,i.jsx)(n.p,{children:"They allow users to run programs with the rights of another user. Administrators often use this to give their users speciail rights for certain applications or files."}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsxs)(n.p,{children:["Not being familiar with the applications but still assigning the SUID/SGID bits can lead to a high-security risk. For example, if the administrator sets the SUID bit to ",(0,i.jsx)(n.code,{children:"journalctl"}),", any user with access to this application ",(0,i.jsx)(n.a,{href:"https://gtfobins.github.io/gtfobins/journalctl/",children:"could execute a shell"})," as ",(0,i.jsx)(n.code,{children:"root"}),"."]})}),"\n",(0,i.jsx)(n.h2,{id:"sticky-bit",children:"Sticky bit"}),"\n",(0,i.jsx)(n.p,{children:"Sticky bits are a type of file permission in Linux that can be set on directories. It provides an extra layer of security when controlling the deletion and renaming of files."}),"\n",(0,i.jsxs)(n.p,{children:["It's represented by the letter ",(0,i.jsx)(n.code,{children:"t"})," in the execute permission of the directory's permission. If the sticky bit is capitalized ",(0,i.jsx)(n.code,{children:"T"}),", it means that all other users do not have ",(0,i.jsx)(n.code,{children:"execute"})," (",(0,i.jsx)(n.code,{children:"x"}),") permissions and, therefore, cannot see the contents of the folder nor run any programs from it."]}),"\n",(0,i.jsxs)(n.p,{children:["Setting a sticky bit on a directory ensures that ",(0,i.jsx)(n.strong,{children:"only the owner"})," of the file, the directory, or the root user can delete or rename files within the directory."]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"You can use sticky bits on directories that are shared by multiple users to prevent one user from accidentally deleting or renaming files that are important to others."})})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},1151:(e,n,s)=>{s.d(n,{Z:()=>c,a:()=>o});var i=s(7294);const r={},t=i.createContext(r);function o(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);