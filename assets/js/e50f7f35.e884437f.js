"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5007],{6540:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>l});var i=t(5893),s=t(1151);const a={},c="VLANs: Virtual Local Area Networks",r={id:"cert_notes/ccna/osi/data-link/vlans/README",title:"VLANs: Virtual Local Area Networks",description:"Virtual 'Switches' (they can traverse Switches), so you can create a logical separation without the need of a physical one.",source:"@site/docs/cert_notes/ccna/osi/2-data-link/vlans/README.md",sourceDirName:"cert_notes/ccna/osi/2-data-link/vlans",slug:"/cert_notes/ccna/osi/data-link/vlans/",permalink:"/cybersecurity-handbook/cert_notes/ccna/osi/data-link/vlans/",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Links on a Switch",permalink:"/cybersecurity-handbook/cert_notes/ccna/osi/data-link/switch-links/"},next:{title:"VTP: VLAN Trunking Protocol",permalink:"/cybersecurity-handbook/cert_notes/ccna/osi/data-link/vtp/"}},o={},l=[{value:"Advantages",id:"advantages",level:2},{value:"Cautions",id:"cautions",level:2},{value:"CISCO Specifics",id:"cisco-specifics",level:2},{value:"CISCO IOS",id:"cisco-ios",level:2},{value:"Creation",id:"creation",level:3},{value:"Old way",id:"old-way",level:3},{value:"New way",id:"new-way",level:3},{value:"Set VLAN devices",id:"set-vlan-devices",level:3},{value:"Voice VLAN",id:"voice-vlan",level:3},{value:"Remove Default VLANS",id:"remove-default-vlans",level:3}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"vlans-virtual-local-area-networks",children:"VLANs: Virtual Local Area Networks"}),"\n",(0,i.jsx)(n.p,{children:"Virtual 'Switches' (they can traverse Switches), so you can create a logical separation without the need of a physical one."}),"\n",(0,i.jsx)(n.p,{children:"A VLAN is a way to provide connectivity for subnets on a network, without making physical network changes."}),"\n",(0,i.jsx)(n.p,{children:"On a practical level, this both prevents certain devices from interacting and allows other to connect more efficiently."}),"\n",(0,i.jsx)(n.h2,{id:"advantages",children:"Advantages"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Save money."}),"\n",(0,i.jsx)(n.li,{children:"Can transverse different switches, so distance constraint between different switches can be overcomed if you use a same virtual network."}),"\n",(0,i.jsx)(n.li,{children:"Switches come with default VLANS (1, and 1002 to 1005) that cannot be deleted."}),"\n",(0,i.jsx)(n.li,{children:"By default, all ports on a Switch, belong to VLAN 1."}),"\n",(0,i.jsxs)(n.li,{children:["VLAN ranges between 1 and 4094 on a switch depending on the platform.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["1 to 1005 are considered ",(0,i.jsx)(n.em,{children:"Normal"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["1006 to 4094 are considered ",(0,i.jsx)(n.em,{children:"Extended"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"More secure, connectivity is only available with devices on the same VLAN."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"cautions",children:"Cautions"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Default VLAN (VLAN 1) can be used by an attacker to gain access to otherwise inaccesible areas of your network. This is why it is considered a best practice to remove all interfaces from default VLAN."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"cisco-specifics",children:"CISCO Specifics"}),"\n",(0,i.jsxs)(n.p,{children:["VLANs on your Switches are stored in a file in flash called ",(0,i.jsx)(n.code,{children:"vlan.dat"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"cisco-ios",children:"CISCO IOS"}),"\n",(0,i.jsx)(n.h3,{id:"creation",children:"Creation"}),"\n",(0,i.jsx)(n.h3,{id:"old-way",children:"Old way"}),"\n",(0,i.jsx)(n.p,{children:"Create"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Switch# vlan database\n\nSwitch(Vlan)# VLAN 50 name test\nSwitch(Vlan)# exit\n\nSwitch# show vlan brief\n"})}),"\n",(0,i.jsx)(n.p,{children:"Delete"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Switch(Vlan)# no vlan 50 name test \n"})}),"\n",(0,i.jsx)(n.h3,{id:"new-way",children:"New way"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Switch> en\nSwitch# conf t\nSwitch(config)# vlan 50\nSwitch(config-vlan)# name test\nSwitch(config-vlan)# exit\nSwitch(config)# do show vlan brief\n\nSwitch# show flash\n// vlan.dat\n"})}),"\n",(0,i.jsx)(n.p,{children:"Delete"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Switch# conf t\nSwitch(config)# no vlan 50\nSwitch# delete vlan.dat\n// delete flash:vlan.dat\nrel\n"})}),"\n",(0,i.jsx)(n.h3,{id:"set-vlan-devices",children:"Set VLAN devices"}),"\n",(0,i.jsx)(n.p,{children:"Name"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"en\nconf t\nvlan <numb>\nname <name>\nexit\ndo show vlan brief\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Move Ports from Roter into VLAN, we need to explicitly configuring the ports as ",(0,i.jsx)(n.strong,{children:"Access"})," ports."]}),"\n",(0,i.jsxs)(n.p,{children:["The ports on Cisco switches are set to auto-negotiate their ",(0,i.jsx)(n.strong,{children:"Switchport Mode"})," to either ",(0,i.jsx)(n.strong,{children:"Access"})," or ",(0,i.jsx)(n.strong,{children:"Trunk"})," using the ",(0,i.jsx)(n.strong,{children:"Dynamic Trunking Protocol (DTP)"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"According to Cisco, it is always a good practice to explicitly configure the Switchport."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"en\nshow interfaces fastEthernet 0/24\nconf t\ninterface fastEthernet 0/24\nswitchport mode access\nswitchport access vlan 150\nexit\nshow vlan brief\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get more data on port"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"en\nshow interface faceEthernet 0/24 switchport\n"})}),"\n",(0,i.jsx)(n.p,{children:"Another way, create VLAN if not exists"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"en\ninterface f 0/24\nswitchport mode access\nswitchport access vlan <num> // creates vlan if not exists\nexit\nshow vlan brief\n"})}),"\n",(0,i.jsx)(n.h3,{id:"voice-vlan",children:"Voice VLAN"}),"\n",(0,i.jsx)(n.p,{children:"Voice requires special considerations because of its nature as a payload and because of its sensitivity from both a quality of service both as a privacy standpoint. As such, CISCO has developed a special type of VLAN that accommodates the needs of voice."}),"\n",(0,i.jsx)(n.p,{children:"Modern voice and data networks only require one port per workstation as most phones have a network port into which a computer can be connected. This way, only one network port is necessary to equip a workstation with both a telephone and a computer. Transmitting voice and data over a single connection while at the same time maintaining the quality of service and security demand VLAN mechanisms appropriate to accommodate such requirements."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"configure terminal\nvlan 50\nname Voice\nexit\nvlan 60\nname Data\nexit\n"})}),"\n",(0,i.jsx)(n.p,{children:"Then for adding devices we'll do the following"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"configure terminal\ninterface f 1/0/12\nswitchport mode access\nswitchport access vlan 60\nswitchport voice vlan 50\nend\n"})}),"\n",(0,i.jsx)(n.h3,{id:"remove-default-vlans",children:"Remove Default VLANS"}),"\n",(0,i.jsxs)(n.p,{children:["It is not possible to shut down or delete VLAN 1. There is no harm in having VLAN 1 active as long as ",(0,i.jsx)(n.strong,{children:"there are no ports assigned to it"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Create a new VLAN with an id of 99 called ",(0,i.jsx)(n.code,{children:"null"})," that will be assigned to all inactive and unused interfaces."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"en\nconfigure terminal\nvlan 99\nname null\nend\n"})}),"\n",(0,i.jsx)(n.p,{children:"Determine which interfaces are currently inactive and which VLANs they are assigned to:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"show inteface status\n// look for notconnected\n"})}),"\n",(0,i.jsx)(n.p,{children:"Assign all inactive interfaces to VLAN 99"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"enable\nconfigure terminal\ninterface range fastethernet 1/0/3 - 21, fastEthernet 1/0/23\nswitchport access vlan 00\nexit\ninterface range gigabitethernet 1/0/1 - 2\nswitchport access vlan 99\nend\n"})}),"\n",(0,i.jsx)(n.p,{children:"Always verify changes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"show vlan brief\n"})}),"\n",(0,i.jsx)(n.p,{children:"You cannot deactivate default VLAN 1."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"configure terminal\nvlan 1\nshutdown // won't work\nexit\nno vlan 1 // won't work\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>c});var i=t(7294);const s={},a=i.createContext(s);function c(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);