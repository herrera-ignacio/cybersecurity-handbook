"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[223],{4892:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var i=t(5893),s=t(1151);const r={},o="VTP: VLAN Trunking Protocol",l={id:"cert_notes/ccna/osi/data-link/vtp/README",title:"VTP: VLAN Trunking Protocol",description:"VTP employs a server-client mechanism, so that if you make one Switch the VTP Server, and the rest as Clients, if you create VLANs on the Server Switch, Client Switchs will be listening and automatically create those VLANs too.",source:"@site/docs/cert_notes/ccna/osi/2-data-link/vtp/README.md",sourceDirName:"cert_notes/ccna/osi/2-data-link/vtp",slug:"/cert_notes/ccna/osi/data-link/vtp/",permalink:"/cybersecurity-handbook/cert_notes/ccna/osi/data-link/vtp/",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"VLANs: Virtual Local Area Networks",permalink:"/cybersecurity-handbook/cert_notes/ccna/osi/data-link/vlans/"},next:{title:"3. Network Layer",permalink:"/cybersecurity-handbook/cert_notes/ccna/osi/network/"}},a={},c=[{value:"Modes",id:"modes",level:2},{value:"Versions",id:"versions",level:2},{value:"CISCO IOS: VTP",id:"cisco-ios-vtp",level:2},{value:"VTP: VLAN Trunking Protocol",id:"vtp-vlan-trunking-protocol-1",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"vtp-vlan-trunking-protocol",children:"VTP: VLAN Trunking Protocol"}),"\n",(0,i.jsxs)(n.p,{children:["VTP employs a ",(0,i.jsx)(n.strong,{children:"server-client mechanism"}),", so that if you make one Switch the VTP Server, and the rest as Clients, if you create VLANs on the Server Switch, Client Switchs will be listening and automatically create those VLANs too."]}),"\n",(0,i.jsxs)(n.p,{children:["This has nothing to do with bringing up trunks. It is named like this because it ",(0,i.jsx)(n.strong,{children:"only works over trunked ports/links"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["VTP can modify ",(0,i.jsx)(n.code,{children:"vlan.dat"}),", with modifications that are carried downstream from the Server Switch in VTP advertisements."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Creating VLAN"}),"\n",(0,i.jsx)(n.li,{children:"Deleting VLAN"}),"\n",(0,i.jsx)(n.li,{children:"Modifying VLAN (name, MTU)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"modes",children:"Modes"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"VTP Server Mode"}),": will send its modifications to other devices, and also listen to other servers."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"VTP Client Mode"}),": vlan modifications are not allowed if not received from server."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"VTP Transparent Mode"}),": will relay VTP advertisements, but it will not apply the modifications to itself. It is allowed to make its own modifications."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"versions",children:"Versions"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"1: default"}),"\n",(0,i.jsx)(n.li,{children:"2: supports token-ring VLANs."}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"cisco-ios-vtp",children:"CISCO IOS: VTP"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"vtp-vlan-trunking-protocol-1",children:"VTP: VLAN Trunking Protocol"}),"\n",(0,i.jsx)(n.p,{children:"Make a Switch, VTP Server. By default all CISCO devices are set as Servers."}),"\n",(0,i.jsx)(n.p,{children:"All Switches in your network, if using VTP, must be in the same domain, otherwise they will not talk VTP with each others."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"config terminal\nvtp mode ?\nvtp mode server\n\nvtp domain ?\nvtp domain <name>\nvtp password <name>\n\ndo show vtp status\n// Configuration Revision, is a count of the modifications made to vlan.dat file\nvtp version 2  // needed to actually ve running in version 2\nvtp version 1\n"})}),"\n",(0,i.jsx)(n.p,{children:"Set another switch as transparent/client"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"config terminal\nvtp mode transparent/client\nvtp domain <name>\nvtp password <pwd>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Save work on Server switch"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"do wr\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>l,a:()=>o});var i=t(7294);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);